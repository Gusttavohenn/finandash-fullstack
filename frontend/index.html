<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXO - Seu Aliado Financeiro</title>
    <script src="js/protect.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <nav class="sidebar">
            <header class="sidebar-header">
                <a href="#" class="logo"><i class="fas fa-wallet"></i><span>NEXO</span></a>
            </header>
            <div class="sidebar-menu">
                <a href="#" class="menu-item active" data-page="dashboard"><i class="fas fa-chart-line"></i><span>Dashboard</span></a>
                <a href="#" class="menu-item" data-page="transactions"><i class="fas fa-exchange-alt"></i><span>Transa√ß√µes</span></a>
                <a href="#" class="menu-item" data-page="reminders"><i class="fas fa-bell"></i><span>Lembretes</span></a>
                <a href="#" class="menu-item" data-page="budgets"><i class="fas fa-bullseye"></i><span>Metas</span></a>
                <a href="#" class="menu-item" data-page="recurring"><i class="fas fa-sync-alt"></i><span>Recorrentes</span></a>
                <a href="#" class="menu-item" data-page="settings"><i class="fas fa-cog"></i><span>Configura√ß√µes</span></a>
                <a href="#" class="menu-item logout"><i class="fas fa-sign-out-alt"></i><span>Sair</span></a>
            </div>
        </nav>

        <main class="main-content">
            <section id="dashboard-page" class="page-content">
                <header class="main-header">
                    <div class="header-title">
                        <h2>Vis√£o Geral</h2>
                        <div class="date-filter">
                            <select id="dashboard-date-filter">
                                <option value="thisMonth">Este M√™s</option>
                                <option value="lastMonth">M√™s Passado</option>
                                <option value="thisYear">Este Ano</option>
                                <option value="allTime" selected>Desde o In√≠cio</option>
                            </select>
                        </div>
                    </div>
                    <div class="header-actions">
                        <button class="theme-toggle" id="theme-toggle"><i class="fas fa-moon"></i></button>
                        <div class="user-profile"><span>Ol√°, Usu√°rio</span></div>
                    </div>
                </header>
                <section class="metrics-cards">
                    <div class="card"><i class="fa-solid fa-arrow-trend-up card-icon income"></i><div class="card-info"><h4>Entrada Total</h4><p id="total-revenue">R$ 0,00</p></div></div>
                    <div class="card"><i class="fa-solid fa-arrow-trend-down card-icon expense"></i><div class="card-info"><h4>Sa√≠da Total</h4><p id="total-expenses">R$ 0,00</p></div></div>
                    <div class="card"><i class="fa-solid fa-scale-balanced card-icon balance"></i><div class="card-info"><h4>Balan√ßo</h4><p id="balance">R$ 0,00</p></div></div>
                </section>
                <section id="reminders-overview" class="data-section-single-col">
                    <h3>Lembretes Pr√≥ximos</h3>
                    <div id="dashboard-reminders-container"></div>
                </section>
                <section id="budgets-overview" class="data-section-single-col">
                    <h3>Progresso das Metas (Este M√™s)</h3>
                    <div id="dashboard-budgets-container"></div>
                </section>
                <section class="data-section">
                    <div class="chart-container">
                        <h3>Despesas por Categoria</h3>
                        <canvas id="expensesChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Receitas vs. Despesas (√öltimos 6 Meses)</h3>
                        <canvas id="monthlySummaryChart"></canvas>
                    </div>
                </section>
                <div class="data-section-single-col">
                    <h3>Transa√ß√µes Recentes</h3>
                    <table id="transactions-table">
                        <thead><tr><th>Descri√ß√£o</th><th>Data</th><th>Valor</th><th>Categoria</th><th>M√©todo</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>

            <section id="transactions-page" class="page-content page-hidden">
                <header class="main-header">
                    <h2>Gerenciar Transa√ß√µes</h2>
                    <div class="header-actions"><button id="add-transaction-btn" class="btn-primary">Adicionar Nova</button></div>
                </header>
                <div class="filter-bar">
                    <input type="text" id="search-input" class="filter-input" placeholder="üîé Buscar por descri√ß√£o..."><select id="type-filter" class="filter-select"><option value="all">Todos os Tipos</option><option value="income">Receita</option><option value="expense">Despesa</option></select><select id="month-filter" class="filter-select"></select>
                </div>
                <div class="full-transactions-list">
                     <h3>Todas as Transa√ß√µes</h3>
                     <table id="full-transactions-table">
                         <thead><tr><th>Descri√ß√£o</th><th>Data</th><th>Valor</th><th>Categoria</th><th>M√©todo</th><th>A√ß√µes</th></tr></thead>
                         <tbody></tbody>
                     </table>
                </div>
                <div id="pagination-controls"><button id="prev-page-btn" class="btn-secondary">&laquo; Anterior</button><span id="page-info"></span><button id="next-page-btn" class="btn-secondary">Pr√≥xima &raquo;</button></div>
            </section>

            <section id="reminders-page" class="page-content page-hidden">
                <header class="main-header"><h2>Lembretes de Pagamento</h2></header>
                <div class="settings-card">
                    <h3>Adicionar Novo Lembrete</h3>
                    <form id="reminder-form">
                        <div class="form-group"><label for="reminder-description">Descri√ß√£o</label><input type="text" id="reminder-description" placeholder="Ex: Fatura Cart√£o, Conta de Luz" required></div>
                        <div class="form-group"><label for="reminder-amount">Valor (R$, opcional)</label><input type="number" id="reminder-amount" step="0.01" min="0" placeholder="Ex: 150.75"></div>
                        <div class="form-group"><label for="reminder-dueDate">Data de Vencimento</label><input type="date" id="reminder-dueDate" required></div>
                        <button type="submit" class="btn-primary">Salvar Lembrete</button>
                    </form>
                </div>
                <div class="full-transactions-list"><h3>Meus Lembretes</h3><div id="reminders-list"></div></div>
            </section>

            <section id="budgets-page" class="page-content page-hidden">
                <header class="main-header"><h2>Minhas Metas Mensais</h2></header>
                <div class="settings-card">
                    <h3>Definir Limites por Categoria</h3>
                    <form id="budget-form">
                        <div class="form-group"><label for="budget-category">Categoria</label><input type="text" id="budget-category" placeholder="Ex: Alimenta√ß√£o" required></div>
                        <div class="form-group"><label for="budget-amount">Valor da Meta (R$)</label><input type="number" id="budget-amount" placeholder="Ex: 500" required step="0.01" min="0"></div>
                        <button type="submit" class="btn-primary">Salvar Meta</button>
                    </form>
                </div>
                <div class="full-transactions-list"><h3>Metas Salvas</h3><div id="budgets-list"></div></div>
            </section>
            
            <section id="recurring-page" class="page-content page-hidden">
                <header class="main-header"><h2>Transa√ß√µes Recorrentes</h2></header>
                <div class="settings-card">
                    <h3>Cadastrar Nova Transa√ß√£o Recorrente</h3>
                    <p>Transa√ß√µes cadastradas aqui ser√£o criadas automaticamente todo m√™s.</p>
                    <form id="recurring-form">
                        <div class="form-group"><label for="recurring-description">Descri√ß√£o</label><input type="text" id="recurring-description" placeholder="Ex: Sal√°rio, Aluguel" required></div>
                        <div class="form-group"><label for="recurring-amount">Valor (R$)</label><input type="number" id="recurring-amount" placeholder="Ex: 1200" required step="0.01" min="0"></div>
                        <div class="form-group"><label for="recurring-day">Dia do M√™s para Lan√ßamento</label><input type="number" id="recurring-day" placeholder="Ex: 5" required min="1" max="31"></div>
                        <div class="form-group"><label for="recurring-category">Categoria</label><input type="text" id="recurring-category" placeholder="Ex: Sal√°rio, Moradia" required></div>
                        <div class="form-group"><label for="recurring-type">Tipo</label><select id="recurring-type" required><option value="income">Receita</option><option value="expense">Despesa</option></select></div>
                        <button type="submit" class="btn-primary">Salvar Transa√ß√£o Recorrente</button>
                    </form>
                </div>
                <div class="full-transactions-list"><h3>Recorr√™ncias Salvas</h3><div id="recurring-list"></div></div>
            </section>
            
            <section id="settings-page" class="page-content page-hidden">
                 <header class="main-header"><h2>Configura√ß√µes</h2></header>
                <div class="settings-card">
                    <h3>Perfil do Usu√°rio</h3>
                    <form id="profile-form">
                        <div class="form-group"><label for="user-name">Seu Nome</label><input type="text" id="user-name" placeholder="Digite seu nome" required></div>
                        <button type="submit" class="btn-primary">Salvar Perfil</button>
                    </form>
                </div>
                <div class="settings-card"><h3>Sess√£o</h3><button id="logout-btn-page" class="btn-danger">Sair da Conta</button></div>
                <div class="settings-card danger-zone">
                    <h3>Zona de Perigo</h3><p>A√ß√µes nesta √°rea s√£o permanentes e n√£o podem ser desfeitas.</p>
                    <button id="clear-data-btn" class="btn-danger">Apagar Todos os Dados</button>
                </div>
            </section>
        </main>
    </div>

    <div id="transaction-modal" class="modal-overlay page-hidden"><div class="modal-content"><form id="transaction-form"><h3 id="modal-title">Nova Transa√ß√£o</h3><input type="hidden" id="transaction-id"><div class="form-group"><label for="description">Descri√ß√£o</label><input type="text" id="description" required></div><div class="form-group"><label for="amount">Valor</label><input type="number" id="amount" step="0.01" placeholder="Ex: 15.50 (sempre positivo)" required min="0"></div><div class="form-group"><label for="date">Data</label><input type="date" id="date" required></div><div class="form-group"><label for="category">Categoria</label><input type="text" id="category" required></div><div class="form-group"><label for="type">Tipo</label><select id="type" required><option value="expense">Despesa</option><option value="income">Receita</option></select></div><div class="form-group" id="payment-method-group"><label for="payment-method">M√©todo de Pagamento</label><select id="payment-method"><option value="Pix">Pix</option><option value="Cart√£o de Cr√©dito">Cart√£o de Cr√©dito</option><option value="Cart√£o de D√©bito">Cart√£o de D√©bito</option><option value="Dinheiro">Dinheiro</option><option value="Boleto">Boleto</option><option value="Transfer√™ncia">Transfer√™ncia</option></select></div><div class="form-actions"><button type="button" id="cancel-btn" class="btn-secondary">Cancelar</button><button type="submit" class="btn-primary">Salvar</button></div></form></div></div>
    <div id="confirmation-modal" class="modal-overlay page-hidden"><div class="modal-content"><h3 id="confirmation-title">Confirmar A√ß√£o</h3><p id="confirmation-message">Voc√™ tem certeza?</p><div class="form-actions"><button id="cancel-confirmation-btn" class="btn-secondary">Cancelar</button><button id="confirm-action-btn" class="btn-danger">Sim, Excluir</button></div></div></div>
    <div id="toast-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/model.js"></script>
    <script src="js/view.js"></script>
    <script src="js/controller.js"></script>
</body>
</html>